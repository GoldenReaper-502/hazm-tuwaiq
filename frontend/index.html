<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hazm Tuwaiq — منصة إدارة المخاطر والسلامة</title>
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <div class="bg"></div>

  <header class="header">
    <div class="brand">
      <img class="logo" src="./assets/logo.png?v=2" alt="Hazm Tuwaiq Logo" />
      <div class="brand-text">
        <h1>حزم طويق</h1>
        <p class="subtitle">بالحزم نواجه المخاطر... وبطويق نصمد</p>
      </div>
    </div>

    <div class="cfg">
      <div class="field">
        <label for="apiUrl">API URL</label>
        <input id="apiUrl" type="url" placeholder="https://hazm-tuwaiq-xxxx.onrender.com" />
      </div>

      <div class="field">
        <label for="apiKey">API KEY</label>
        <input id="apiKey" type="text" placeholder="اختياري إذا عندك حماية" />
      </div>

      <button id="saveCfg" class="btn primary">حفظ</button>
    </div>
  </header>

  <main class="container">
    <section class="card">
      <div class="card-head">
        <h2>حالة النظام</h2>
        <button id="refreshStatus" class="btn">تحديث</button>
      </div>
      <pre id="statusOut" class="pre muted">اضغط "تحديث" لعرض الحالة</pre>
    </section>

    <section class="card">
      <div class="card-head">
        <h2>إضافة حادث / بلاغ</h2>
      </div>

      <div class="grid">
        <div class="field">
          <label for="incTitle">العنوان</label>
          <input id="incTitle" type="text" placeholder="مثال: انزلاق في الممر" />
        </div>

        <div class="field">
          <label for="incLocation">الموقع</label>
          <input id="incLocation" type="text" placeholder="مثال: Gate 3" />
        </div>

        <div class="field">
          <label for="incSeverity">الخطورة</label>
          <select id="incSeverity">
            <option value="low">Low</option>
            <option value="medium" selected>Medium</option>
            <option value="high">High</option>
          </select>
        </div>

        <div class="field full">
          <label for="incDesc">الوصف</label>
          <textarea id="incDesc" rows="3" placeholder="اكتب تفاصيل البلاغ..."></textarea>
        </div>
      </div>

      <div class="actions">
        <button id="sendIncident" class="btn primary">إرسال</button>
      </div>

      <pre id="incOut" class="pre muted">سيظهر الرد هنا</pre>
    </section>

    <section class="card">
      <div class="card-head">
        <h2>قائمة البلاغات</h2>
        <button id="refreshIncidents" class="btn">تحديث</button>
      </div>
      <div id="incidentsWrap" class="list"></div>
    </section>

    <section class="card">
      <div class="card-head">
        <h2>رفع ملف</h2>
      </div>

      <div class="grid">
        <div class="field">
          <label for="uploadTag">Tag (اختياري)</label>
          <input id="uploadTag" type="text" placeholder="مثال: photo / report" />
        </div>

        <div class="field full">
          <label for="uploadFile">اختر ملف</label>
          <input id="uploadFile" type="file" />
        </div>
      </div>

      <div class="actions">
        <button id="doUpload" class="btn primary">رفع</button>
      </div>

      <pre id="uploadOut" class="pre muted">سيظهر الرد هنا</pre>
      <div id="uploadsWrap" class="list"></div>
    </section>
  </main>

  <footer class="footer">
    <span>© Hazm Tuwaiq MVP</span>
    <a href="#" id="openDocs">Docs</a>
  </footer>

  <script src="./app.js"></script>
</body>
</html>